{% extends 'base.html.twig' %}

{% block title %}Liste index
{% endblock %}

{%block stylesheets %}
	{{ parent() }}
	{{ encore_entry_link_tags('app') }}
{% endblock %}

{% block body %}

	<h1>Mes listes de courses</h1>

	<main>

		{{ include('liste/_form.html.twig') }}

		<div class="flex-lists">
			{% for liste in listes %}
				<a class="list">

					<h2>{{ liste.nom }}</h2>

					<div class="list-container">

						<ul class="list-articles">
							{% for article in articlesParListe[liste.id] %}
								<li class="info-article">
									<div>{{ article.nom }}</div>
									<div>{{ article.prix }}€ | x{{ article.quantite }}</div>
								</li>
							{% endfor %}
						</ul>

						<span class="list-separator"></span>

						<button class="modifier" onclick="window.location.href='{{ path('app_liste_show', {'id': liste.id}) }}'">Voir le détail</button>

						<button class="modifier" onclick="window.location.href='{{ path('app_liste_edit', {'id': liste.id}) }}'">Modifier</button>

						{{ include('liste/_delete_form.html.twig') }}
					</div>
				</a>

			{% else %}
				<tr>
					<td colspan="4">Aucune liste</td>
				</tr>
			{% endfor %}

		</div>


	</main>
{% endblock %}
